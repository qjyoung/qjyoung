<html lang="en">
<head>
    <meta charSet="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="keywords" content="Á®ãÂ∫èÂëòÈòøËØ∫,ÈòøËØ∫,ÂÄíËÆ°Êó∂,ÂÄíËÆ°Êó∂ÂàóË°®,ÂÆûÁî®Â∞èÂ∑•ÂÖ∑,È´òËÄÉÂÄíËÆ°Êó∂,Êò•ËäÇ,Êò•ËäÇÂÄíËÆ°Êó∂"/>
    <title>ÂÖ¨‰ºóÂè∑ÔºöÁ®ãÂ∫èÂëòÈòøËØ∫</title>
    <style>
        body {font-family: Tahoma, Verdana, Arial, sans-serif;}  .notice {background: #B4EEB4;position: fixed;border: 1px solid #1a1a1a;border-radius: 5px;z-index: 100;width: auto;height: 30px;text-align: center;font-weight: bold;line-height: 30px;padding: 7px;left: 50%;top: 27%;transform: translate(-50%, -50%);}  a:link, a:visited, a:active {text-decoration: none;color: blue;}  a:hover {text-decoration: underline;}  .board {position: relative;float: left;margin: 5px 17px 5px 17px;padding: 5px 17px 5px 17px;}  .badge {position: absolute;font-size: 17px;width: 23px;height: 23px;line-height: 23px;text-align: center;}  .up {top: -12px;right: -12px;}  .down {bottom: -12px;right: -12px;}  .my-button {position: relative;cursor: pointer;}  .my-button:active {padding-bottom: -1px;}  .item-x {display: none;}  .item:hover > .item-x, .item-x:hover {display: inline-block;}  .title {position: relative;}  .title:hover {color: transparent;}  .edit {background-color: transparent;display: none;position: absolute;top: 0;margin: 0;padding: 0;width: 100%;height: 100%;font-family: inherit;font-size: inherit;font-weight: bold;border: none;outline: none;}  .title:hover .edit {display: block;}  td {padding-left: 5px;}
    </style>
    <script src="x.js"></script>
    <script src="calendar/lunar.js?1"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/bluebird.js"></script>
    <script src="js/html2canvas.min.js"></script>

    <script type="text/javascript">
      let noticeLayer = document.createElement("div");
      noticeLayer.id = "noticeLayer";
      noticeLayer.setAttribute('class', 'notice');
      function notice(date) {
        if (document.getElementById("noticeLayer") == null) {
          document.body.appendChild(noticeLayer);
          noticeLayer.innerHTML = date;
          setTimeout("document.body.removeChild(noticeLayer)", 1313)
        }
      }

      // canvasÁîüÊàêÂõæÁâá
      function screenshot() {
        let content = document.getElementById("countdown");
        let width = content.offsetWidth;
        let height = content.offsetHeight;

        let canvas = document.createElement("canvas");
        let context = canvas.getContext('2d');
        // Ëé∑ÂèñËÆæÂ§áÁöÑPixelRatio
        // Â∞ÜcanvasÁöÑÂÆπÂô®Êâ©Â§ßPixelRatioÂÄçÔºåÂÜçÂ∞ÜÁîªÂ∏ÉÁº©ÊîæÔºåÂ∞ÜÂõæÂÉèÊîæÂ§ßPixelRatioÂÄç„ÄÇ
        let backingStore = context.backingStorePixelRatio ||
          context.webkitBackingStorePixelRatio ||
          context.mozBackingStorePixelRatio ||
          context.msBackingStorePixelRatio ||
          context.oBackingStorePixelRatio ||
          context.backingStorePixelRatio || 0.5;
        let scale = (window.devicePixelRatio || 0.5) / backingStore;
        context.scale(scale, scale);

        canvas.width = width * scale;
        canvas.height = height * scale;
        canvas.style.width = width + 'px';
        canvas.style.height = height + 'px';

        let opts = {
          scale: scale,
          canvas: canvas,
          width: width,
          height: height,
          dpi: window.devicePixelRatio
        };
        html2canvas(content, opts).then(function (canvas) {
          context.imageSmoothingEnabled = false;
          context.webkitImageSmoothingEnabled = false;
          context.msImageSmoothingEnabled = false;
          canvas.toBlob(async blob => {
            const data = [
              new ClipboardItem({
                [blob.type]: blob,
              }),
            ];
            await navigator.clipboard.write(data)
              .then(() => {
                  notice('Êà™ÂõæÂ∑≤Â§çÂà∂Âà∞Ââ™ÂàáÊùø');
                }, () => {
                  notice('Êà™ÂõæÂ§±Ë¥•');
                }
              );
          });
        });
      }

      String.prototype.visualLength = function () {
        let ruler = document.getElementById('ruler');
        ruler.innerHTML = this;
        return ruler.offsetWidth;
      }
    </script>
</head>
<body>
<span id="ruler" style="position:absolute;visibility: hidden;"></span>
<div id="app" style="width:100%;height: 100%;">
    <!--countdown-->
    <div class="board item" style="backgroundColor:#fedf55" id="countdown">
        <h1 onclick="screenshot()">ÂÄíËÆ°Êó∂ÔºàÁÇπÂáªÊà™ÂõæÔºâ</h1>
        <div style="padding-left: 20px;width: auto;height: auto; font-size:14pt;text-align:center;border:2px solid #0da0ec;">
            <span v-html="formatDate(countdown.date)"></span><br>
            <span v-html="weekday(countdown.date)"></span>
            <span style="color: black; ">{{countdown.time}}</span><br>
            <span style="color: violet; ">{{`${countdown.lunar.chineseYear}„Äê${countdown.lunar.animal}„ÄëÂπ¥ ${countdown.lunar.cyclical(countdown.lunar.months)}Êúà ${countdown.lunar.cyclical(countdown.lunar.days+1)}Êó•`}}</span><br>
            <span style="color: #000066; ">{{`${countdown.lunar.chineseMonth}Êúà${countdown.lunar.chineseDay}`}}</span><br>
            <span style="background-color:#ccffcc; color:#000066">{{countdown.festivals}}</span>
        </div>
        <ol>
            <template v-for="tool in holidays">
                <li>
                    <span style="width: 48px;display: inline-block">
                        <strong style='color: black' v-html="tool.desc"></strong>
                    </span>
                    <span style="width: 43px;display: inline-block;" :style="{color: tool.diff === 0?'red':'blue'}">{{tool.diff === 0 ? '‰ªäÂ§©' : tool.diff + 'Â§©'}}</span>
                    <span v-html="tool.time"></span>
                </li>
            </template>
        </ol>

        <ol style="margin-bottom: 22px">
            <template v-for="tool in countdown.tools">
                <li class="item" v-if="!tool.hide">
                    <span style="display:inline-block;" :style="{width:countdown.descWidth+'px'}">
                        <strong style='color: black' v-html="tool.desc"></strong>
                    </span>
                    <span style="display:inline-block;" :style="{width:countdown.diffWidth+'px',color: tool.diff === 0?'red':'blue'}">{{tool.diff === 0 ? '‰ªäÂ§©' : tool.diff + 'Â§©'}}</span>
                    <span v-html="tool.time"></span>
                    <span class="my-button item-x" style="position: absolute;margin-left: 1px" v-if="tool.custom" @click="!confirm(`Á°ÆÂÆöÂà†Èô§[${tool.desc}]Ôºü`)||countdown.tools.splice(countdown.tools.indexOf(tool),1)">‚ùå</span>
                </li>
            </template>
        </ol>

        <div class="item-x" style="position: absolute;left:20px;width: 92%;bottom: 2px">
            <input type="text" style="width: 40%" placeholder="Êó•Êúü(09-16ÊàñÂÖ´ÊúàÂçÅ‰∫å)" v-model="date" @keyup.enter="newItem(countdown)"/>
            <input type="text" style="width: 40%" placeholder="ÊèèËø∞(ÂõûËΩ¶Êñ∞Â¢û)" v-model="desc" @keyup.enter="newItem(countdown)"/>
            <span class="my-button" style="position: absolute;margin-left: 3px" @click="newItem(countdown)">‚úÖ</span>
        </div>
    </div>

    <!--tools-board-->
    <div>
        <div class="board item"
             :style="{backgroundColor:group.background}"
             v-for="group in toolGroups"
             draggable="true"
             @dragstart="dragging(group)"
             @drop="drop(group)"
             @dragover.prevent>
            <h1 v-bind:class="!group.custom?'':'title'">{{group.title===""?"ËØ∑ËæìÂÖ•Ê†áÈ¢ò":group.title}}
                <input class="edit" placeholder="ËØ∑ËæìÂÖ•Ê†áÈ¢ò" v-model="group.title" v-if="group.custom"/>
            </h1>
            <ol style="margin-bottom: 22px">
                <template v-for="tool in group.tools">
                    <li class="item" style="padding-right: 2px"
                        draggable="true"
                        @dragstart.stop="dragging(group, tool)"
                        @drop.stop="drop(group, tool)"
                        @dragover.prevent>
                        <a :href="tool.url" target="_blank"><span v-html="tool.name"></span></a>
                        <span class="my-button item-x" style="position: absolute;margin-left: 1px" v-if="tool.custom" @click="!confirm(`Á°ÆÂÆöÂà†Èô§[${tool.name}]Ôºü`)||group.tools.splice(group.tools.indexOf(tool),1)">‚ùå</span>
                    </li>
                </template>
            </ol>
            <div class="item-x" style="position: absolute;left:20px;width: 92%;bottom: 2px" v-if="group.custom">
                <input type="text" style="width: 40%" placeholder="ÈìæÊé•" v-model="url" @keyup.enter="group.tools.push({name: name || 'Á©∫',url: url,custom: true})"/>
                <input type="text" style="width: 40%" placeholder="ÂêçÁß∞(ÂõûËΩ¶Êñ∞Â¢û)" v-model="name" @keyup.enter="group.tools.push({name: name || 'Á©∫',url: url,custom: true})"/>
                <span class="my-button" style="position: absolute;margin-left: 3px" @click="group.tools.push({name: name || 'Á©∫',url: url,custom: true})">‚úÖ</span>
            </div>
            <div class="badge up item-x" v-if="group.custom">
                <span class="my-button" @click="!confirm(`Á°ÆÂÆöÂà†Èô§[${group.title}]Ôºü`)||toolGroups.splice(toolGroups.indexOf(group),1)">‚ùå</span>
            </div>
            <div class="badge down item-x">
                <span class="my-button" @click="newGroup(group)">‚ûï</span>
            </div>
        </div>
    </div>
</div>
</body>
<script>
  let colors = ['AliceBlue', 'AntiqueWhite', 'Aqua', 'Aquamarine', 'Azure', 'Beige', 'Bisque', 'BlanchedAlmond', 'BurlyWood', 'CadetBlue', 'Chartreuse', 'Coral', 'CornflowerBlue', 'Cornsilk', 'Cyan', 'DarkCyan', 'DarkGoldenRod', 'DarkGray', 'DarkKhaki', 'Darkorange', 'DarkSalmon', 'DarkSeaGreen', 'DarkTurquoise', 'DeepPink', 'DeepSkyBlue', 'Feldspar', 'FloralWhite', 'Fuchsia', 'Gainsboro', 'GhostWhite', 'Gold', 'GoldenRod', 'GreenYellow', 'HoneyDew', 'HotPink', 'IndianRed', 'Ivory', 'Khaki', 'Lavender', 'LavenderBlush', 'LawnGreen', 'LemonChiffon', 'LightBlue', 'LightCoral', 'LightCyan', 'LightGoldenRodYellow', 'LightGrey', 'LightGreen', 'LightPink', 'LightSalmon', 'LightSeaGreen', 'LightSkyBlue', 'LightSlateGray', 'LightSteelBlue', 'LightYellow', 'Lime', 'LimeGreen', 'Linen', 'Magenta', 'MediumAquaMarine', 'MediumOrchid', 'MediumPurple', 'MediumSeaGreen', 'MediumSpringGreen', 'MediumTurquoise', 'MediumVioletRed', 'MintCream', 'MistyRose', 'Moccasin', 'NavajoWhite', 'OldLace', 'Olive', 'OliveDrab', 'Orange', 'OrangeRed', 'Orchid', 'PaleGoldenRod', 'PaleGreen', 'PaleTurquoise', 'PaleVioletRed', 'PapayaWhip', 'PeachPuff', 'Peru', 'Pink', 'Plum', 'PowderBlue', 'Red', 'RosyBrown', 'Salmon', 'SandyBrown', 'SeaGreen', 'SeaShell', 'Silver', 'SkyBlue', 'SlateGray', 'Snow', 'SpringGreen', 'SteelBlue', 'Tan', 'Teal', 'Thistle', 'Tomato', 'Turquoise', 'Violet', 'VioletRed', 'Wheat', 'White', 'WhiteSmoke', 'Yellow', 'YellowGreen',];
  new Vue({
    el: '#app',
    draggingGroup: null,
    draggingItem: null,
    data: {
      toolGroups: [{
        title: "ÂÖ¨‰ºóÂè∑-Á®ãÂ∫èÂëòÈòøËØ∫",
        background: "pink",
        tools: [{
          url: "https://qjyoung.github.io/",
          name: 'Êâ´Á†ÅÂÖ≥Ê≥®&nbsp;<img src="./qrcode.png" alt="ÂÖ¨‰ºóÂè∑ÔºöÁ®ãÂ∫èÂëòÈòøËØ∫" style="width: 90px;height: 90px"/>',
        },
          {url: 'https://github.com/qjyoung', name: 'github'},
          {url: '', name: ''},
          {url: 'https://v.qq.com/x/page/n0536o6npn5.html', name: 'Ë∏©ÁùÄÂçïËΩ¶ÂéªÊãâËê®'},
          {url: '', name: ''},
          {url: 'https://mp.weixin.qq.com/s/QaU5B0m4Oo-hhIigu10ehg', name: 'ÂåóÁñÜ2872ÂÖ¨Èáå‰πãÊóÖ'},
          {url: 'https://mp.weixin.qq.com/s/HARgAEd3G36cMgioiwA04A', name: 'Ë•øËóèÔºåÈ≠ÇÂΩí‰πãÂú∞'},
          {url: '', name: ''},
          {url: 'https://mp.weixin.qq.com/s/32WFce0eQHZacG26k6D-Iw', name: 'ËÆ©‰ª•Â§™ÂùägethÊîØÊåÅhardhat consoleÊó•Âøó'},
          {url: 'https://mp.weixin.qq.com/s/ts-B-W2sj7ciaz9L7pfmDw', name: '‰ªé‰∏ÄÊ¨°JVMÂÜÖÂ≠òÊ≥ÑÈú≤ËØ¥Ëµ∑'},
          {url: 'https://mp.weixin.qq.com/s/51b7n81DxyRjVoyyi2U-tA', name: 'Áî®vueÂÜô‰∏Ä‰∏™ÂÇªÁìúÂºèÂÄíËÆ°Êó∂ÂàóË°®'},
          {url: 'https://mp.weixin.qq.com/s/UhyQ5lnaqfV0i-O90OEQEw', name: 'gitË°•‰∏ÅÁöÑÂ¶ôÁî®ÔºåÂ∞Ü‰ª£Á†ÅÂ∑ÆÂºÇÂåñÂèëÂ∏ÉÂà∞Â§ñÁΩëgithub'},
          {url: 'https://mp.weixin.qq.com/s/WSEz9CdUze8RNppATl6_kw', name: 'ËøôÊàñËÆ∏ÊòØÂ∞ÅË£ÖÁöÑÊúÄ‰ºòÈõÖÁöÑExcelÊï∞ÊçÆÂØºÂá∫Â∑•ÂÖ∑'},
          {url: 'https://mp.weixin.qq.com/s/gf5G484F_Jbi0Ppwyzaq-w', name: 'Á©∂ÊûÅÊïàÁéáÔºå‰∏ÄË°åsqlÊãøÂà∞ÂÖ®ÊµÅÁ®ãÊµãËØïÊï∞ÊçÆ'},
          {url: 'https://mp.weixin.qq.com/s/X1R4ozZ_QmZZHa_2kCt0KA', name: 'ÂèóÂÆ†Ëã•ÊÉäÔºåÁ´üË¢´DDoSÊîªÂáª‰∫Ü'},
          {url: 'https://mp.weixin.qq.com/s/gttv67UBfCn-JapSfzHMlA', name: 'ÂïÜÂüé‰∏ãÂçï-‰∏âÊñπÊîØ‰ªò-Êó∂Â∫èÂõæ'},
          {url: 'https://mp.weixin.qq.com/s/ZlK9vPLLkNFP73TPDrth5A', name: 'ÂÄüÂä©lambdaÁÅµÊ¥ªÊéßÂà∂‰∫ãÁâ©Á≤íÂ∫¶'},
          {url: 'https://mp.weixin.qq.com/s/nbzWbws4o53tO42WZMFynA', name: 'Ê≥®Ëß£„ÄÅ‰ª£ÁêÜÁÆÄÂåñredisÂàÜÂ∏ÉÂºèÈîÅ-ÂÆûÁé∞‰ª£Á†Å'},
          {url: 'https://mp.weixin.qq.com/s/ycdvhfzIP6Y_CpskCyrQmQ', name: 'ÈÄöÁî®ÁöÑÂå∫ÂùóÈìæÊô∫ËÉΩÂêàÁ∫¶web3.goË∞ÉÁî®ÊúçÂä°'},
          {url: 'https://mp.weixin.qq.com/s/KJv8m_1exKeMEU__pGR4Ug', name: 'dockerÂø´ÈÄüÊê≠Âª∫elk-2-Ëß£ÊûêJava„ÄÅgo„ÄÅnginxÊó•Âøó'},
          {url: 'https://mp.weixin.qq.com/s/hoOZqeHwkvwWyP8BhCKP7Q', name: 'Git Â§ö‰∫∫Âçè‰ΩúÔºåËØ∏Ëëõ‰∫ÆÂ∏¶‰Ω†Áé©ËΩ¨cherry-pick „ÄÅrebase'},
          {url: 'https://mp.weixin.qq.com/s/ZrDaT1kMT30EDqBLi28lUA', name: 'Á≤æÁÆÄÁâà-‰∫îÈ¢úÂÖ≠Ëâ≤ÁöÑÂ∏∏Áî®Â∑•ÂÖ∑Êùø-Âü∫‰∫éVue'},
          {url: 'https://mp.weixin.qq.com/s/fc9O0Yow6YQrhPepmCVHAw', name: 'SQLÊü•ÁúãÊï∞ÊçÆ - ÂÄüÂä©view„ÄÅgroup_concatËäÇÁúÅ‰Ω†ÂÆùË¥µÊó∂Èó¥'},
          {url: 'https://mp.weixin.qq.com/s/dunLcQ8O1gfwAf6jb4S1mA', name: 'Áî®VUEÂÅö‰∏Ä‰∏™Â∏∏Áî®Â∑•ÂÖ∑Êùø'},
          {url: 'https://mp.weixin.qq.com/s/IkQVKnA-iHG_fyJ0EDO9PQ', name: 'Ë¢´Â∑•ÂÖ∑ÔºàGolandÔºâÂùëÁöÑÊúÄÊÉ®ÁöÑ‰∏ÄÊ¨°'},
          {url: 'https://mp.weixin.qq.com/s/45zu-OcP5UNbLdj5X3hUwA', name: 'ÂÅö‰∏Ä‰∏™‰ºöÂÅ∑ÊáíÁöÑÁ®ãÂ∫èÂëò'},
          {url: 'https://mp.weixin.qq.com/s/VJIFYZchRjEzC2bzVladmw', name: 'ideaÂÆöÂà∂groovyËÑöÊú¨ÔºåÂØºÂá∫dbÊï∞ÊçÆÂà∞csvËá™Âä®Âä†Ë°åÂè∑ÂíåÊ†áÈ¢ò'},
          {url: 'https://mp.weixin.qq.com/s/rn2IbAWIpRVRE631hPNUfg', name: '60Ë°åshellËÑöÊú¨Âø´ÈÄüÁîüÊàêJavaÈ°πÁõÆËÑöÊâãÊû∂'},
          {url: 'https://mp.weixin.qq.com/s/iDA08QqL9xp3eo5znjWleA', name: 'Áî®dockerÂø´ÈÄüÊê≠Âª∫elkÊó•ÂøóÂπ≥Âè∞'},
          {url: 'https://mp.weixin.qq.com/s/1m7OKcqOcB2e_2K_mFG_8A', name: '50Ë°ågoÂÆûÁé∞treeÂëΩ‰ª§'},
          {url: 'https://mp.weixin.qq.com/s/EgE_sF8xmDfrkkX_zsdycA', name: 'ÈîôÊÄ™Mybatis, ÂéüÊù•ËøôÂπ∂‰∏çÊòØbug'},
          {url: 'https://mp.weixin.qq.com/s/h-ZrmzfRjhdsxfZneMyvuw', name: 'Ê≥®Ëß£+‰ª£ÁêÜ Âä†ÊåÅÂàÜÂ∏ÉÂºèÈîÅÔºåËÆ©‰ª£Á†ÅÊõ¥ÁÆÄÊ¥Å'},
          {url: 'https://mp.weixin.qq.com/s/kuJnTjMxdPv32E7a-r-zRQ', name: 'DIYÊèí‰ª∂ÔºåËá™Âä®ÁîüÊàêsetË∞ÉÁî®ÔºåËß£ÊîæÂèåÊâã'},
          {url: 'https://mp.weixin.qq.com/s/zm-f6ENkt93dU53K2mNVZg', name: 'JavaÂõûË∞É„ÄÅLambda‰∏éRedisÂàÜÂ∏ÉÂºèÈîÅÊñ∞Áé©Ê≥ï'},
          {url: 'https://mp.weixin.qq.com/s/_JCRYeo65c9CTklhqUJZBA', name: 'Â∑®ÁÉßËÑë-‰º∞ËÆ°Ê≤°Âá†‰∫∫ËÉΩÁúãÊáÇ:ÂÆûÁé∞treeÂëΩ‰ª§ - Êé¢Á¥¢‰Ω†DÁõòÁöÑÁßòÂØÜ'},
          {url: 'https://mp.weixin.qq.com/s/BFU-IHHg422aHZX-c0_3IQ', name: 'Âü∫‰∫éshiroÁöÑÊùÉÈôêËá™Âä®ÂΩïÂÖ•'},
          {url: '', name: ''},
          {url: 'https://mp.weixin.qq.com/s/gjpqdLBuMlvzkdY_qHI54A', name: 'ÂçóÂ§©Èó®‰∏äÔºå‰∏âÂçÉÂø†È≠ÇÂ•ãÂ≠§ÂãáÔºõÁ•≠ÊóóÂù°‰∏ãÔºå‰∏ÄËÖîÁÉ≠Ë°ÄÁÖßÈùíÂ±±'},
          {url: '', name: ''},
          {url: 'https://mp.weixin.qq.com/s/a9gXbNS_U3JMvzaaKvdkrA', name: '2020Âπ¥5ÊúàÔºåÊØîÁâπÂ∏ÅÂç≥Â∞ÜËøéÊù•Á¨¨‰∏âÊ¨°ÂáèÂçäÔºå‰∏∫‰ªÄ‰πàÊØîÁâπÂ∏Å‰ºöÂáèÂçä'},
          {url: 'https://mp.weixin.qq.com/s/O04kd9SIvZcKHIRpHVz8Bw', name: '‰∏çÂ∞èÂøÉÊï≤‰∫Ü rm -rf / ÂêéÂèçÂ∫îÊòØÊÄéÊ†∑ÁöÑÔºü'},
          {url: 'https://mp.weixin.qq.com/s/T-IMeuMTgwC7ZIpYAo2EEQ', name: 'ÊòüÈôÖÁ©øË∂äÁöÑÂÆåÂÖ®Ëß£Êûê'},
          {url: 'https://mp.weixin.qq.com/s/D0RA8dv3e0_oDTdiN8CK8w', name: 'Â•áËÆ∞ÔΩúÁîüÊ≠ªËçíÂéüË∑ØÔºå52Â§©È¶ñÊ¨°Âçï‰∫∫ÂÆåÊï¥Ê®™Á©øÂ§ßÁæåÂ°ò'},
          {url: '', name: ''},]
      }, {
        title: "ÂÆûÁî®Â∞èÂ∑•ÂÖ∑",
        custom: true,
        background: "22e674",
        tools: [
          {url: '.', name: '‰∏ªÈ°µ'},
          {url: './calendar', name: '‰∏áÂπ¥ÂéÜ'},
          {url: './format', name: 'JSON-Ê†ºÂºèÂåñ'},
          {url: "./security_password.html", name: "Â§çÊùÇÂØÜÁ†ÅÁîüÊàêÂô®"},
          {url: 'http://tool.oschina.net/codeformat/xml', name: 'ÂÖ∂‰ªñ‰ª£Á†ÅÊ†ºÂºèÂåñ'},
          {url: 'http://cron.qqe2.com/', name: 'Âú®Á∫øCronË°®ËææÂºèÁîüÊàêÂô®'},
          {url: 'http://tool.chinaz.com/tools/unicode.aspx', name: 'UnicodeÁºñÁ†Å'},
          {url: 'http://www.bejson.com/xml2json/', name: 'XML 2 JSON'},
          {url: './json2bean', name: 'JSON 2 BEAN'},
          {url: './encrypt/encrypt.html', name: 'AES-DES'},
          {url: 'http://tool.chacuo.net/cryptaes', name: 'AES-2'},
          {url: './encrypt/encrypt2.html', name: 'ÂìàÂ∏åÊï£Âàó'},
          {url: 'https://tool.lu/hexconvert/', name: 'ËøõÂà∂ËΩ¨Êç¢'},
          {url: './encrypt/encrypt3.html', name: 'BASE64ÁºñÁ†Å'},
          {url: './encrypt/encrypt4.html', name: 'ÂõæÁâáËΩ¨base64'},
          {url: 'https://c.runoob.com/front-end/59/', name: 'ÂõæÁâáBASE64ÁºñÁ†Å'},
          {url: 'https://cli.im/', name: '‰∫åÁª¥Á†ÅÁîüÊàêÂô®'},
          {url: 'http://www.jq22.com/textDifference', name: 'Show diff'},
          {url: 'http://tool.oschina.net/jscompress/', name: 'js/css compresss'},
          {url: 'http://imgbase64.duoshitong.com/', name: 'ÂõæÁâá base64 ‰∫íËΩ¨'},
          {url: 'https://www.ip.cn', name: 'IP ÂüüÂêçÂú∞ÂùÄÊü•ËØ¢'},
          {url: 'https://github.com/qjyoung', name: 'qjyoung-github'},
          {url: 'https://blog.csdn.net/qq_33303700', name: 'qjyoung-CSDN'},
          {url: 'https://www.bootcdn.cn/', name: 'ÂºÄÊ∫êÈ°πÁõÆCDN'},
          {url: 'http://www.yuangongju.com/css3button', name: 'css-button'},
          {url: 'http://www.jq22.com/webqd5122', name: 'css-input'},
          {url: 'https://www.processon.com/', name: 'processon'},
          {url: 'http://www.txttool.com/WenBen_Sort4.asp', name: 'Âú®Á∫øÂ≠óÂÖ∏ÊéíÂ∫è'},
          {url: 'https://wantwords.net/', name: 'wantwords'},
          {url: 'https://tool.ip138.com/rgbhex/', name: 'Âú®Á∫øÈ¢úËâ≤ÂÄºËΩ¨Êç¢'},
        ]
      }],
      countdown: {
        title: "ÂÄíËÆ°Êó∂",
        background: "FFE56F",
        date: new Date(),
        lunar: new Lunar(new Date()),
        time: '',
        festivals: '',
        descWidth: 0,
        diffWidth: 0,
        tools: [{
          date: "xxxx-09-16",
          desc: "ÂÖ¨ÂéÜÁîüÊó•",
          custom: true
        }, {
          isLunar: true,
          date: "xxxx-ÂÖ´-ÂçÅ‰∫å",
          desc: "ÂÜúÂéÜÁîüÊó•",
          custom: true
        }]
      },
      holidays: [],
      name: "Á®ãÂ∫èÂëòÈòøËØ∫",
      url: "https://qjyoung.github.io",
      date: "",
      desc: ""
    },
    mounted() {
      let doc = this.toolGroups[0];
      this.toolGroups = this.getFromLocal("toolGroups", this.toolGroups);
      this.toolGroups[0] = doc;

      this.countdown.tools = this.getFromLocal("countdown", this.countdown).tools.filter(item => {
        return item.custom
      });

      this.findHolidays();
      this.reloadCountDown();

      this.updateTime();
      setInterval(this.updateTime, 1000);

      setTimeout(() => {
        let _version = "2";
        let version = localStorage.getItem("version");
        if (!version || version !== _version) {
          confirm(`‚≠êÂ∑•ÂÖ∑Êùø&ÂÄíËÆ°Êó∂ÂàóË°®‚≠êÔ∏è

Ê≠§Â∑•ÂÖ∑ÊùøÂèØÊñπ‰æøÂàÜÁ±ªÊî∂Á∫≥Â∑•‰Ωú‰∏≠Â∏∏Áî®ÁöÑÂú®Á∫øÂ∑•ÂÖ∑ÊàñÂèÇËÄÉËµÑÊñôÈìæÊé•

Â¶Ç‰∏ãÊâÄÁ§∫Ôºå‰∏çÂêåËâ≤Âùó‰ª£Ë°®‰∫Ü‰∏çÂêåÁöÑÂ∑•ÂÖ∑ÁªÑÔºåÊØèÁªÑÂèØÊúâËã•Âπ≤Â≠êÊù°ÁõÆ
Èº†Ê†áÁßªÂä®Âà∞‰∏çÂêåÂå∫ÂüüÂç≥ÂèØÂî§Âá∫ÂêÑËá™ÁöÑÊìç‰ΩúÊåâÈíÆÂíåËæìÂÖ•Ê°Ü

‰ΩøÁî®ÊåáÂçóÔºö
‚ë† ÊØèÁªÑÂè≥‰∏ãËßí‚ûïÊåâÈíÆÔºåÂèØÂú®ËØ•ÁªÑÂêéËøΩÂ¢ûÊñ∞Â∑•ÂÖ∑ÁªÑ
‚ë° ÊØèÁªÑÂè≥‰∏äËßí‚ùåÊåâÈíÆÔºåÂèØÂ∞ÜËØ•ÁªÑÂà†Èô§ÔºåÂêåÊó∂ÁªÑÂÜÖÊâÄÊúâÊù°ÁõÆÈÉΩÂ∞ÜË¢´ÁßªÈô§
‚ë¢ ÊØèÁªÑÁöÑÊ†áÈ¢òÈÉΩÂèØÂÆûÊó∂ÁºñËæëÔºåÂè™ÈúÄË¶ÅÁßªÂä®ÂÖâÊ†áÂà∞Áõ∏Â∫î‰ΩçÁΩÆ

Â≠êÊù°ÁõÆÊìç‰ΩúÔºö
‚ë£ ÊåâËæìÂÖ•Ê°ÜÊèêÁ§∫ÔºåÊ≠£Á°ÆËæìÂÖ•Êï∞ÊçÆÂêéÂõûËΩ¶ÊàñÁÇπÂáª‚úÖÊåâÈíÆÂç≥ÂèØÊñ∞Â¢ûÂ≠êÊù°ÁõÆ
‚ë§ ÊØè‰∏™Â≠êÊù°ÁõÆÂè≥‰æßÂêåÊ†∑Êúâ‚ùåÊåâÈíÆÔºåÂèØÂ∞ÜËØ•Êù°ÁõÆÂà†Èô§

‚ë• Â∑•ÂÖ∑ÁªÑÂèäÂÖ∂Â≠êÊù°ÁõÆÈÉΩÂèØËá™Áî±ÊãñÊãΩÁßªÂä®‰ΩçÁΩÆÔºåÂ≠êÊù°ÁõÆÊîØÊåÅË∑®ÁªÑÁßªÂä®

‚ë¶ ÂÄíËÆ°Êó∂ÂàóË°®ÂêåÁêÜÔºå‰∏çÂèØÁßªÂä®

ÁÇπÂáªÁ°ÆËÆ§‰∏ãÊ¨°ÊâìÂºÄ‰∏çÂÜçÊèêÁ§∫

üåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπüåπ
          `) && localStorage.setItem("version", _version);
        }
      }, 133)
    },
    methods: {
      getFromLocal(key, field) {
        let cache = JSON.parse(localStorage.getItem(key));
        if (cache != null) {
          return cache;
        }
        return field;
      },
      newGroup(previousGroup) {
        let base = 138, max = 255 - base;
        let time = new Date().getTime();
        let r = time % max;
        this.toolGroups.splice(this.toolGroups.indexOf(previousGroup) + 1, 0, {
          title: "ËØ∑ËæìÂÖ•Ê†áÈ¢ò",
          custom: true,
          background: r % 2 === 0 ? colors[Math.ceil(Math.random() * colors.length)]
            : `rgb(${r + base}
          , ${Math.floor(Math.random() * max) + base}
          , ${Math.floor(Math.random() * max) + base})`,
          tools: []
        });
      },
      dragging(group, item) {
        this.draggingGroup = group;
        this.draggingItem = item;
      },
      drop(targetGroup, targetItem) {
        if (!this.draggingGroup.custom || !targetGroup.custom) {
          return;
        }

        let fromData = this.toolGroups;
        let targetData = this.toolGroups;
        let promptName = targetGroup.title;
        let target = targetGroup;
        let draggingEle = this.draggingGroup;

        if (this.draggingItem) {
          fromData = this.draggingGroup.tools;
          targetData = targetGroup.tools;
          draggingEle = this.draggingItem;
          promptName = targetItem.name;
          target = targetItem;
        }

        let originIndex = targetData.indexOf(draggingEle);
        let targetIndex = targetData.indexOf(target);
        console.log(originIndex, targetIndex);
        originIndex !== targetIndex
        && confirm(`Á°ÆÂÆöÁßªÂä®Âà∞[${promptName}]‰πã${originIndex > targetIndex ? 'Ââç' : 'Âêé'}?`)
        && fromData.splice(fromData.indexOf(draggingEle), 1)
        && targetData.splice(originIndex >= 0 ? targetIndex : targetIndex + 1, 0, draggingEle);

        this.draggingGroup = null;
        this.draggingItem = null;
      },
      newItem(group) {
        let isLunar = false;
        let year = 'xxxx', month = 'xx', day = '';
        if (this.desc === undefined || this.desc.length === 0) {
          notice("ËØ∑Â°´ÂÜôÊèèËø∞");
          return;
        }
        if (/[\u4E00-\u9FA5]/.test(this.date)) {
          isLunar = true;
          let strings = this.date.split("Âπ¥");
          if (strings.length > 2) {
            notice("Êó•ÊúüÈîôËØØ");
            return;
          }
          if (strings.length === 2) {
            year = strings[0] === '' ? year : strings[0];
          }
          if (year !== 'xxxx' && parseInt(year) > 2050) {
            notice("ÊúÄÂ§ßÊîØÊåÅÂπ¥‰ªΩ2050");
            return;
          }
          if (!/^xxxx$|^[1-9]\d{3}$/.test(year)) {
            notice("Âπ¥‰ªΩÈîôËØØ");
            return;
          }

          strings = strings[strings.length - 1].split("Êúà");
          if (strings.length > 2) {
            notice("Êúà‰ªΩÈîôËØØ");
            return;
          }

          if (strings.length === 2) {
            month = strings[0] === '' ? month : strings[0];
            let _month = month;
            if (_month !== 'xx') {
              _month = _month.replace('Èó∞', '');
              if (_month.length > 2
                || (_month.length === 2 && _month[0] !== 'ÂçÅ')
                || (XXXUnits.indexOf(_month[_month.length - 1]) < 0)) {
                notice("Êúà‰ªΩÈîôËØØ");
                return;
              }
            }
          }
          day = strings[strings.length - 1];
        } else {
          let strings = this.date.split('-');
          let length = strings.length;
          if (length > 3 || length === 0) {
            notice("Êó•ÊúüÈîôËØØ");
            return;
          }
          day = strings[length - 1];
          if (length > 1) {
            month = strings[length - 2];
          }
          if (length > 2) {
            year = strings[length - 3];
          }
          if (!/^xxxx$|^[1-9]\d{3}$/.test(year)) {
            notice("Âπ¥‰ªΩÈîôËØØ");
            return;
          }
          if (!/^xx$|^1[0-2]$|^0?[1-9]$/.test(month)) {
            notice("Êúà‰ªΩÈîôËØØ");
            return
          }
          if (!/^(0?[1-9]$|^[1-2][0-9]$|^3[0-1]$)/.test(day)) {
            notice("Êó•ÊúüÈîôËØØ");
            return
          }
        }
        group.tools.push({
          date: [year, month, day].join('-'),
          isLunar: isLunar,
          desc: this.desc,
          url: undefined,
          custom: true
        });
      },
      updateTime() {
        let now = new Date();
        this.countdown.time = [this.paddingLeft(now.getHours()), this.paddingLeft(now.getMinutes()), this.paddingLeft(now.getSeconds())].join(':');

        let today = now.getDate();
        if (localStorage.getItem("today") === today + "") {
          return
        }
        this.reloadCountDown();
        localStorage.setItem("today", today);
      },
      reloadCountDown() {
        this.findHolidays();

        let tools = this.countdown.tools;
        let todayDate = new Date();
        let thisYear = todayDate.getFullYear();
        let thisMonth = todayDate.getMonth();
        let thisDay = todayDate.getDate();
        todayDate = new Date(thisYear, thisMonth, thisDay);
        thisMonth += 1;

        let lastDiff = 0;
        let myDays = [];
        let maxDescWidth = 0, maxDiffWidth = 0;
        for (let i = 0; i < tools.length; i++) {
          let item = tools[i];
          if (!item.date) {
            item.diff = lastDiff + 0.00001;
            continue
          }

          let strings = item.isLunar && item.lunarDate ? item.lunarDate.split('-') : item.date.split('-');
          let autoYear = strings[0] === 'xxxx', autoMonth = strings[1] === 'xx';
          let thatYear = autoYear ? thisYear : parseInt(strings[0]);
          let thatMonth = strings[1], thatDay = strings[2];

          let thatDate, name = '';
          item.hide = false;
          if (item.isLunar) {
            let found = false;
            this.find(lunar => {
              if ((lunar.chineseMonth === thatMonth || autoMonth) && lunar.chineseDay === thatDay) {
                found = true;
                thatDate = new Date(lunar.date.getFullYear(), lunar.date.getMonth(), lunar.date.getDate());
                if (item.isLunar) {
                  name += ' ' + lunar.chineseMonth + 'Êúà' + lunar.chineseDay;
                }
              }
              return found
            }, !autoYear && thatYear > thisYear ? thatYear : undefined);
            if (!found) {
              if (!autoYear) {
                tools.splice(i, 1);
                i--;
                continue;
              }
              item.hide = true;
            }
          } else {
            thatDay = parseInt(thatDay);
            if (autoMonth) {
              thatMonth = thisMonth;
              if (thisDay > thatDay && (autoYear || thisMonth !== 12)) {
                thatMonth = (thisMonth + 1) % 12;
                thatYear = thisYear + (thatMonth === 1 ? 1 : 0);
              }
            } else {
              thatMonth = parseInt(thatMonth);
              if (autoYear && (thisMonth > thatMonth || thisMonth === thatMonth && thisDay > thatDay)) {
                thatYear += 1;
              }
            }
            thatDate = new Date(thatYear, thatMonth - 1, thatDay);
          }

          if (!item.hide) {
            let diff = (thatDate - todayDate) / 86400000;
            if (diff === 0 && item.custom) {
              myDays.push(item.desc);
            } else if (diff < 0) {
              tools.splice(i, 1);
              i--;
              continue;
            }
            let descWidth = `<strong>${item.desc}</strong>`.visualLength();
            maxDescWidth = descWidth > maxDescWidth ? descWidth : maxDescWidth;
            let diffWidth = (diff + 'Â§©').visualLength() + 1;
            maxDiffWidth = diffWidth > maxDiffWidth ? diffWidth : maxDiffWidth;

            item.diff = lastDiff = diff;
            item.time = this.formatDate(thatDate).replace(thisYear + "-", "") + name;
          } else {
            item.diff = 0;
          }
        }
        this.countdown.descWidth = maxDescWidth;
        this.countdown.diffWidth = maxDiffWidth;
        tools.sort(function (a, b) {
          let res = a.custom - b.custom;
          if (res !== 0) {
            return res;
          }
          return a.diff - b.diff;
        });
        localStorage.setItem("countdown", JSON.stringify(this.countdown));

        this.countdown.date = todayDate;
        this.countdown.lunar = new Lunar(todayDate);
        let _festivals = festivals(this.countdown.lunar);
        if (_festivals.length > 0) {
          _festivals.map(value => myDays.push(value.festival.replace('*', '')));
        }
        this.countdown.festivals = myDays.join(' ');
      },
      formatDate(date) {
        return [date.getFullYear(), this.paddingLeft(date.getMonth() + 1), this.paddingLeft(date.getDate())].join('-');
      },
      paddingLeft(num) {
        num = parseInt(num);
        return num < 10 ? '0' + num : num;
      },
      find(consume, year, findDays) {
        findDays = findDays || 386;
        let date = year ? new Date(year, 0, 1) : new Date();
        for (let j = 0; j < findDays; j++) {
          let lunar = new Lunar(date);
          if (consume(lunar)) {
            break
          }
          date.setDate(date.getDate() + 1);
        }
      },
      findHolidays() {
        this.holidays = [];
        let todayDate = new Date();
        let thisYear = todayDate.getFullYear();
        todayDate = new Date(thisYear, todayDate.getMonth(), todayDate.getDate());
        this.find(lunar => {
          festivals(lunar).forEach(each => {
            let isHoliday = each.festival.indexOf("*") > 0;
            let isKeyDay = each.festival.indexOf(".") > 0;
            if (isHoliday || isKeyDay) {
              this.holidays.push({
                custom: false,
                time: this.formatDate(lunar.date).replace(thisYear + "-", '') + ' ' + lunar.chineseMonth + 'Êúà' + lunar.chineseDay,
                desc: `<span style="background-color:${isHoliday ? '#ccffcc' : ''}">${each.festival.replace('*', '').replace('.', '')}</span>`,
                diff: (new Date(lunar.date.getFullYear(), lunar.date.getMonth(), lunar.date.getDate()) - todayDate) / 86400000
              });
            }
          })
        });
      },
    },
    watch: {
      toolGroups: {
        handler(groups) {
          localStorage.setItem("toolGroups", JSON.stringify(groups));
        },
        deep: true
      },
      "countdown.tools.length": {
        handler(val) {
          this.reloadCountDown();
        }
      }
    }
  })
</script>
</html>
